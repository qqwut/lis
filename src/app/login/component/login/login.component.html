<div class="login-header">
  <img alt="Brand" src="./assets/img/philliplifeLogo.png" />
</div>
<div class="flex justify-content-center align-content-center flex-wrap login p-5">
  <div class="flex flex-wrap justify-content-center align-content-center card-login">
    <div
      class="flex align-items-center justify-content-center font-bold text-gray-900 border-round m-2"
      style="min-width: 100px; min-height: 40rem"
    >
      <form [formGroup]="formLogin" (submit)="signIn()">
        <div class="p-fluid">
          <img
            class="text-center w-100"
            src="./assets/img/iapply_logo_icon.svg"
            alt="logo"
            style="height: 124px"
          />
          <div class="p-field login-field mt-2">
            <small> Username </small>
            <input
              pInputText
              id="userName"
              class="login-input"
              formControlName="username"
              [class.bd-error]="usernameInvalid"
            />

            <div class="text-error text-left" *ngIf="usernameInvalid">
              <small *ngIf="username.hasError('required')"> Must input username </small>

              <small *ngIf="username.hasError('minlength')"> Minimum 3 characters </small>

              <small *ngIf="username.hasError('maxlength')"> Maximum 10 characters </small>
            </div>
          </div>
          <div class="p-field login-field">
            <small> Password </small>
            <input
              pInputText
              type="password"
              id="password"
              formControlName="password"
              class="login-input"
              [class.bd-error]="passwordInvalid"
            />

            <div class="text-error text-left" *ngIf="passwordInvalid">
              <small *ngIf="password.errors['required']"> Must input password </small>

              <small *ngIf="password.errors['minlength']"> Minimum 3 characters </small>

              <small *ngIf="password.errors['maxlength']"> Maximum 10 characters </small>
            </div>
          </div>

          <div class="w-100">{{ messageError }}</div>

          <div class="mt-4">
            <button
              pButton
              id="submit"
              class="w-100 btn-login"
              type="submit"
              label="{{ translate.transform('LOGIN.SUBMIT') }}"
            ></button>
          </div>

          <div class="mt-3 text-center cursor-pointer color-main" (click)="onPrivacy()">
            {{ 'PRIVACY_POLICY' | translate }}
          </div>

          <div class="mt-3 text-center cursor-pointer color-main" (click)="onSupportDevice()">
            {{ 'CHECK_VERSION' | translate }}
          </div>

          <div class="mt-3 text-center">
            PhillipLife&nbsp;&copy; 2022 &nbsp;-&nbsp;

            {{ appConfig?.APP_VERSION }}
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<p-dialog
  header="Browser support"
  [(visible)]="supportDevice"
  [modal]="true"
  [style]="{ width: '50vw' }"
  [draggable]="false"
  [resizable]="false"
>
  <p-table [value]="browserList" styleClass="p-datatable-striped" responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr>
        <th>Browser</th>
        <th>Supported versions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product?.browser }}</td>
        <td>{{ product?.support }}</td>
      </tr>
    </ng-template>
  </p-table>
</p-dialog>
