<div class="login-header">
  <img alt="Brand" src="./assets/img/philliplifeLogo.png" />
</div>
<div class="p-grid">
  <div
    class="p-col p-align-center vertical-container p-d-flex p-ai-center p-jc-center h-100"
  >
    <form [formGroup]="formLogin" novalidate (submit)="signIn()">
      <div class="p-fluid">
        <img
          class="text-center w-100"
          src="./assets/img/iapply_logo_icon.svg"
          alt="logo"
          style="height: 124px"
        />
        <div class="p-field login-field mt-2">
          <input
            pInputText
            id="userName"
            formControlName="username"
            class="login-input"
            [class.bd-error]="usernameInvalid"
            placeholder="Username"
          />
          <div class="text-error text-left" *ngIf="usernameInvalid">
            <small *ngIf="username.hasError('required')">
              Must input username
            </small>
            <small *ngIf="username.hasError('minlength')">
              Minimum 3 characters
            </small>
            <small *ngIf="username.hasError('maxlength')">
              Maximum 10 characters!!
            </small>
          </div>
        </div>
        <div class="p-field login-field">
          <input
            pInputText
            type="password"
            id="password"
            formControlName="password"
            placeholder="Password"
            class="login-input"
            [class.bd-error]="passwordInvalid"
          />
          <div class="text-error text-left" *ngIf="passwordInvalid">
            <small *ngIf="password.hasError('required')">
              Must input password
            </small>
            <small *ngIf="password.hasError('minlength')">
              Minimum 3 characters
            </small>
            <small *ngIf="password.hasError('maxlength')">
              Maximum 10 characters!!
            </small>
          </div>
        </div>
        <div class="mt-1">
          <button
            pButton
            id="submit"
            class="login-input btn-login"
            label="Submit"
            type="submit"
            [disabled]="!formLogin.valid"
          ></button>
        </div>
        <div class="mt-1 text-center">
          <label
            class="cursor-pointer"
            style="color: #007bff"
            (click)="privacyClick()"
          >
            นโยบายความเป็นส่วนตัว
          </label>
        </div>
        <div class="mt-1 text-center">
          <label
            class="cursor-pointer"
            style="color: #007bff"
            (click)="openSupportDevice()"
          >
            ตรวจสอบระบบปฏิบัติการที่ Support
          </label>
          <p class="mt-2">PhillipLife&nbsp;&copy; 2020&nbsp;-&nbsp; 1.0.0</p>
        </div>
      </div>
    </form>
  </div>

  <p-dialog
    header="Browser support"
    [(visible)]="supportDevice"
    [modal]="true"
    [style]="{ width: '50vw' }"
    [draggable]="false"
    [resizable]="false"
    [closable]="false"
  >
    <p-table
      [value]="products"
      styleClass="p-datatable-striped"
      responsiveLayout="scroll"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Browser</th>
          <th>Supported versions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>{{ product?.browser }}</td>
          <td>{{ product?.support }}</td>
        </tr>
      </ng-template>
    </p-table>
    <ng-template pTemplate="footer">
      <p-button
        pRipple
        icon="pi pi-close"
        (click)="supportDevice = false"
        label="ปิด"
        styleClass="p-button-danger"
      ></p-button>
    </ng-template>
  </p-dialog>

  <div class="custom-spinner" *ngIf="loading">
    <!-- <img
        width="100px"
        class="image"
        src="assets/img/iapply_logo2.png"
        alt="diamond-ng"
    /> -->
    <p-progressSpinner
      [style]="{
        width: '50px',
        height: '50px',
        position: 'fixed',
        top: '49%',
        left: '48.5%'
      }"
      strokeWidth="8"
      animationDuration="1s"
    ></p-progressSpinner>
  </div>
</div>
